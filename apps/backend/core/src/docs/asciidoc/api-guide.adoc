= Schemafy API 가이드
:toc: left
:toclevels: 3
:sectnums:
:sectlinks:
:source-highlighter: highlightjs
:highlightjs-theme: github
:icons: font
:imagesdir: images

== 개요

Schemafy API

=== 기본 응답 형식

모든 API는 다음과 같은 공통 응답 형식을 사용합니다.

[source,json]
----
{
  "success": true,
  "result": {
    // API별 응답 데이터
  },
  "error": null
}
----

**응답 필드**

[cols="1,2,1"]
|===
|필드명 |설명 |타입

|`success`
|요청 성공 여부
|Boolean

|`result`
|응답 데이터 (성공시)
|Object

|`error`
|에러 정보 (실패시)
|Object

|`error.code`
|에러 코드
|String

|`error.message`
|에러 메시지
|String
|===

== API 목록

=== ULID 생성

ULID를 생성합니다.

[source]
----
GET /public/api/v1.0/ulid/generate
----

[discrete]
==== 요청

include::{snippets}/ulid-generate/http-request.adoc[]
include::{snippets}/ulid-generate/request-headers.adoc[]
include::{snippets}/ulid-generate/request-body.adoc[]
include::{snippets}/ulid-generate/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/ulid-generate/response-headers.adoc[]
include::{snippets}/ulid-generate/response-body.adoc[]
include::{snippets}/ulid-generate/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/ulid-generate/response-fields.adoc[]

---

== ERD API

ERD(Entity-Relationship Diagram) 관련 API입니다.

=== Schema

==== Schema 생성

스키마를 생성합니다.

[source]
----
POST /api/v1.0/schemas
----

[discrete]
==== 요청

include::{snippets}/schema-create/http-request.adoc[]
include::{snippets}/schema-create/request-headers.adoc[]
include::{snippets}/schema-create/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/schema-create/response-headers.adoc[]
include::{snippets}/schema-create/response-body.adoc[]
include::{snippets}/schema-create/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/schema-create/response-fields.adoc[]

---

==== Schema 조회

스키마를 조회합니다.

[source]
----
GET /api/v1.0/schemas/{schemaId}
----

[discrete]
==== 요청

include::{snippets}/schema-get/http-request.adoc[]
include::{snippets}/schema-get/request-headers.adoc[]
include::{snippets}/schema-get/path-parameters.adoc[]
include::{snippets}/schema-get/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/schema-get/response-headers.adoc[]
include::{snippets}/schema-get/response-body.adoc[]
include::{snippets}/schema-get/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/schema-get/response-fields.adoc[]

---

==== Schema 이름 변경

스키마 이름을 변경합니다.

[source]
----
PUT /api/v1.0/schemas/{schemaId}/name
----

[discrete]
==== 요청

include::{snippets}/schema-update-name/http-request.adoc[]
include::{snippets}/schema-update-name/request-headers.adoc[]
include::{snippets}/schema-update-name/path-parameters.adoc[]
include::{snippets}/schema-update-name/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/schema-update-name/response-headers.adoc[]
include::{snippets}/schema-update-name/response-body.adoc[]
include::{snippets}/schema-update-name/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/schema-update-name/response-fields.adoc[]

---

==== Schema 삭제

스키마를 삭제합니다.

[source]
----
DELETE /api/v1.0/schemas/{schemaId}
----

[discrete]
==== 요청

include::{snippets}/schema-delete/http-request.adoc[]
include::{snippets}/schema-delete/request-headers.adoc[]
include::{snippets}/schema-delete/path-parameters.adoc[]
include::{snippets}/schema-delete/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/schema-delete/response-headers.adoc[]
include::{snippets}/schema-delete/response-body.adoc[]
include::{snippets}/schema-delete/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/schema-delete/response-fields.adoc[]

---

==== 스키마별 Table 목록 조회

특정 스키마에 속한 테이블 목록을 조회합니다.

[source]
----
GET /api/v1.0/schemas/{schemaId}/tables
----

[discrete]
==== 요청

include::{snippets}/table-list-by-schema/http-request.adoc[]
include::{snippets}/table-list-by-schema/request-headers.adoc[]
include::{snippets}/table-list-by-schema/path-parameters.adoc[]
include::{snippets}/table-list-by-schema/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/table-list-by-schema/response-headers.adoc[]
include::{snippets}/table-list-by-schema/response-body.adoc[]
include::{snippets}/table-list-by-schema/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/table-list-by-schema/response-fields.adoc[]

---

=== Table

==== Table 생성

테이블을 생성합니다.

[source]
----
POST /api/v1.0/tables
----

[discrete]
==== 요청

include::{snippets}/table-create/http-request.adoc[]
include::{snippets}/table-create/request-headers.adoc[]
include::{snippets}/table-create/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/table-create/response-headers.adoc[]
include::{snippets}/table-create/response-body.adoc[]
include::{snippets}/table-create/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/table-create/response-fields.adoc[]

---

==== Table 조회

테이블을 조회합니다.

[source]
----
GET /api/v1.0/tables/{tableId}
----

[discrete]
==== 요청

include::{snippets}/table-get/http-request.adoc[]
include::{snippets}/table-get/request-headers.adoc[]
include::{snippets}/table-get/path-parameters.adoc[]
include::{snippets}/table-get/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/table-get/response-headers.adoc[]
include::{snippets}/table-get/response-body.adoc[]
include::{snippets}/table-get/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/table-get/response-fields.adoc[]

---

==== Table 이름 변경

테이블 이름을 변경합니다.

[source]
----
PUT /api/v1.0/tables/{tableId}/name
----

[discrete]
==== 요청

include::{snippets}/table-update-name/http-request.adoc[]
include::{snippets}/table-update-name/request-headers.adoc[]
include::{snippets}/table-update-name/path-parameters.adoc[]
include::{snippets}/table-update-name/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/table-update-name/response-headers.adoc[]
include::{snippets}/table-update-name/response-body.adoc[]
include::{snippets}/table-update-name/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/table-update-name/response-fields.adoc[]

---

==== Table extra 정보 변경

테이블의 extra 정보를 변경합니다.

[source]
----
PUT /api/v1.0/tables/{tableId}/extra
----

[discrete]
==== 요청

include::{snippets}/table-update-extra/http-request.adoc[]
include::{snippets}/table-update-extra/request-headers.adoc[]
include::{snippets}/table-update-extra/path-parameters.adoc[]
include::{snippets}/table-update-extra/request-fields.adoc[]
include::{snippets}/table-update-extra/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/table-update-extra/response-headers.adoc[]
include::{snippets}/table-update-extra/response-body.adoc[]
include::{snippets}/table-update-extra/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/table-update-extra/response-fields.adoc[]

---

==== Table 삭제

테이블을 삭제합니다.

[source]
----
DELETE /api/v1.0/tables/{tableId}
----

[discrete]
==== 요청

include::{snippets}/table-delete/http-request.adoc[]
include::{snippets}/table-delete/request-headers.adoc[]
include::{snippets}/table-delete/path-parameters.adoc[]
include::{snippets}/table-delete/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/table-delete/response-headers.adoc[]
include::{snippets}/table-delete/response-body.adoc[]
include::{snippets}/table-delete/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/table-delete/response-fields.adoc[]

---

==== 테이블별 Column 목록 조회

테이블에 속한 컬럼 목록을 조회합니다.

[source]
----
GET /api/v1.0/tables/{tableId}/columns
----

[discrete]
==== 요청

include::{snippets}/column-list-by-table/http-request.adoc[]
include::{snippets}/column-list-by-table/request-headers.adoc[]
include::{snippets}/column-list-by-table/path-parameters.adoc[]
include::{snippets}/column-list-by-table/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/column-list-by-table/response-headers.adoc[]
include::{snippets}/column-list-by-table/response-body.adoc[]
include::{snippets}/column-list-by-table/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/column-list-by-table/response-fields.adoc[]

---

==== 테이블별 Relationship 목록 조회

특정 테이블의 관계 목록을 조회합니다.

[source]
----
GET /api/v1.0/tables/{tableId}/relationships
----

[discrete]
==== 요청

include::{snippets}/relationship-list-by-table/http-request.adoc[]
include::{snippets}/relationship-list-by-table/path-parameters.adoc[]
include::{snippets}/relationship-list-by-table/request-headers.adoc[]
include::{snippets}/relationship-list-by-table/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/relationship-list-by-table/response-headers.adoc[]
include::{snippets}/relationship-list-by-table/response-body.adoc[]
include::{snippets}/relationship-list-by-table/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/relationship-list-by-table/response-fields.adoc[]

---

==== 테이블별 Index 목록 조회

특정 테이블의 인덱스 목록을 조회합니다.

[source]
----
GET /api/v1.0/tables/{tableId}/indexes
----

[discrete]
==== 요청

include::{snippets}/index-list-by-table/http-request.adoc[]
include::{snippets}/index-list-by-table/path-parameters.adoc[]
include::{snippets}/index-list-by-table/request-headers.adoc[]
include::{snippets}/index-list-by-table/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/index-list-by-table/response-headers.adoc[]
include::{snippets}/index-list-by-table/response-body.adoc[]
include::{snippets}/index-list-by-table/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/index-list-by-table/response-fields.adoc[]

---

==== 테이블별 Constraint 목록 조회

특정 테이블의 제약조건 목록을 조회합니다.

[source]
----
GET /api/v1.0/tables/{tableId}/constraints
----

[discrete]
==== 요청

include::{snippets}/constraint-list-by-table/http-request.adoc[]
include::{snippets}/constraint-list-by-table/path-parameters.adoc[]
include::{snippets}/constraint-list-by-table/request-headers.adoc[]
include::{snippets}/constraint-list-by-table/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/constraint-list-by-table/response-headers.adoc[]
include::{snippets}/constraint-list-by-table/response-body.adoc[]
include::{snippets}/constraint-list-by-table/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/constraint-list-by-table/response-fields.adoc[]

---

=== Column

==== Column 생성

컬럼을 생성합니다.

[source]
----
POST /api/v1.0/columns
----

[discrete]
==== 요청

include::{snippets}/column-create/http-request.adoc[]
include::{snippets}/column-create/request-headers.adoc[]
include::{snippets}/column-create/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/column-create/response-headers.adoc[]
include::{snippets}/column-create/response-body.adoc[]
include::{snippets}/column-create/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/column-create/response-fields.adoc[]

---

==== Column 조회

컬럼을 조회합니다.

[source]
----
GET /api/v1.0/columns/{columnId}
----

[discrete]
==== 요청

include::{snippets}/column-get/http-request.adoc[]
include::{snippets}/column-get/request-headers.adoc[]
include::{snippets}/column-get/path-parameters.adoc[]
include::{snippets}/column-get/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/column-get/response-headers.adoc[]
include::{snippets}/column-get/response-body.adoc[]
include::{snippets}/column-get/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/column-get/response-fields.adoc[]

---

==== Column 이름 변경

컬럼 이름을 변경합니다.

[source]
----
PUT /api/v1.0/columns/{columnId}/name
----

[discrete]
==== 요청

include::{snippets}/column-update-name/http-request.adoc[]
include::{snippets}/column-update-name/request-headers.adoc[]
include::{snippets}/column-update-name/path-parameters.adoc[]
include::{snippets}/column-update-name/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/column-update-name/response-headers.adoc[]
include::{snippets}/column-update-name/response-body.adoc[]
include::{snippets}/column-update-name/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/column-update-name/response-fields.adoc[]

---

==== Column 타입 변경

컬럼 타입을 변경합니다.

[source]
----
PUT /api/v1.0/columns/{columnId}/type
----

[discrete]
==== 요청

include::{snippets}/column-update-type/http-request.adoc[]
include::{snippets}/column-update-type/request-headers.adoc[]
include::{snippets}/column-update-type/path-parameters.adoc[]
include::{snippets}/column-update-type/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/column-update-type/response-headers.adoc[]
include::{snippets}/column-update-type/response-body.adoc[]
include::{snippets}/column-update-type/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/column-update-type/response-fields.adoc[]

---

==== Column 위치 변경

컬럼 위치를 변경합니다.

[source]
----
PUT /api/v1.0/columns/{columnId}/position
----

[discrete]
==== 요청

include::{snippets}/column-update-position/http-request.adoc[]
include::{snippets}/column-update-position/request-headers.adoc[]
include::{snippets}/column-update-position/path-parameters.adoc[]
include::{snippets}/column-update-position/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/column-update-position/response-headers.adoc[]
include::{snippets}/column-update-position/response-body.adoc[]
include::{snippets}/column-update-position/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/column-update-position/response-fields.adoc[]

---

==== Column 삭제

컬럼을 삭제합니다.

[source]
----
DELETE /api/v1.0/columns/{columnId}
----

[discrete]
==== 요청

include::{snippets}/column-delete/http-request.adoc[]
include::{snippets}/column-delete/request-headers.adoc[]
include::{snippets}/column-delete/path-parameters.adoc[]
include::{snippets}/column-delete/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/column-delete/response-headers.adoc[]
include::{snippets}/column-delete/response-body.adoc[]
include::{snippets}/column-delete/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/column-delete/response-fields.adoc[]

---

=== Relationship

==== Relationship 생성

관계를 생성합니다.

[source]
----
POST /api/v1.0/relationships
----

[discrete]
==== 요청

include::{snippets}/relationship-create/http-request.adoc[]
include::{snippets}/relationship-create/request-headers.adoc[]
include::{snippets}/relationship-create/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/relationship-create/response-headers.adoc[]
include::{snippets}/relationship-create/response-body.adoc[]
include::{snippets}/relationship-create/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/relationship-create/response-fields.adoc[]

---

==== Relationship 조회

관계를 조회합니다.

[source]
----
GET /api/v1.0/relationships/{relationshipId}
----

[discrete]
==== 요청

include::{snippets}/relationship-get/http-request.adoc[]
include::{snippets}/relationship-get/path-parameters.adoc[]
include::{snippets}/relationship-get/request-headers.adoc[]
include::{snippets}/relationship-get/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/relationship-get/response-headers.adoc[]
include::{snippets}/relationship-get/response-body.adoc[]
include::{snippets}/relationship-get/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/relationship-get/response-fields.adoc[]

---

==== Relationship 이름 변경

관계의 이름을 변경합니다.

[source]
----
PUT /api/v1.0/relationships/{relationshipId}/name
----

[discrete]
==== 요청

include::{snippets}/relationship-update-name/http-request.adoc[]
include::{snippets}/relationship-update-name/path-parameters.adoc[]
include::{snippets}/relationship-update-name/request-headers.adoc[]
include::{snippets}/relationship-update-name/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/relationship-update-name/response-headers.adoc[]
include::{snippets}/relationship-update-name/response-body.adoc[]
include::{snippets}/relationship-update-name/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/relationship-update-name/response-fields.adoc[]

---

==== Relationship extra 정보 변경

관계의 extra 정보를 변경합니다.

[source]
----
PUT /api/v1.0/relationships/{relationshipId}/extra
----

[discrete]
==== 요청

include::{snippets}/relationship-update-extra/http-request.adoc[]
include::{snippets}/relationship-update-extra/path-parameters.adoc[]
include::{snippets}/relationship-update-extra/request-headers.adoc[]
include::{snippets}/relationship-update-extra/request-fields.adoc[]
include::{snippets}/relationship-update-extra/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/relationship-update-extra/response-headers.adoc[]
include::{snippets}/relationship-update-extra/response-body.adoc[]
include::{snippets}/relationship-update-extra/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/relationship-update-extra/response-fields.adoc[]

---

==== Relationship 카디널리티 변경

관계의 카디널리티를 변경합니다.

[source]
----
PUT /api/v1.0/relationships/{relationshipId}/cardinality
----

[discrete]
==== 요청

include::{snippets}/relationship-update-cardinality/http-request.adoc[]
include::{snippets}/relationship-update-cardinality/path-parameters.adoc[]
include::{snippets}/relationship-update-cardinality/request-headers.adoc[]
include::{snippets}/relationship-update-cardinality/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/relationship-update-cardinality/response-headers.adoc[]
include::{snippets}/relationship-update-cardinality/response-body.adoc[]
include::{snippets}/relationship-update-cardinality/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/relationship-update-cardinality/response-fields.adoc[]

---

==== Relationship에 컬럼 추가

관계에 컬럼을 추가합니다.

[source]
----
POST /api/v1.0/relationships/{relationshipId}/columns
----

[discrete]
==== 요청

include::{snippets}/relationship-add-column/http-request.adoc[]
include::{snippets}/relationship-add-column/path-parameters.adoc[]
include::{snippets}/relationship-add-column/request-headers.adoc[]
include::{snippets}/relationship-add-column/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/relationship-add-column/response-headers.adoc[]
include::{snippets}/relationship-add-column/response-body.adoc[]
include::{snippets}/relationship-add-column/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/relationship-add-column/response-fields.adoc[]

---

==== Relationship에서 컬럼 제거

관계에서 컬럼을 제거합니다.

[source]
----
DELETE /api/v1.0/relationships/{relationshipId}/columns/{relationshipColumnId}
----

[discrete]
==== 요청

include::{snippets}/relationship-remove-column/http-request.adoc[]
include::{snippets}/relationship-remove-column/path-parameters.adoc[]
include::{snippets}/relationship-remove-column/request-headers.adoc[]
include::{snippets}/relationship-remove-column/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/relationship-remove-column/response-headers.adoc[]
include::{snippets}/relationship-remove-column/response-body.adoc[]
include::{snippets}/relationship-remove-column/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/relationship-remove-column/response-fields.adoc[]

---

==== Relationship 삭제

관계를 삭제합니다.

[source]
----
DELETE /api/v1.0/relationships/{relationshipId}
----

[discrete]
==== 요청

include::{snippets}/relationship-delete/http-request.adoc[]
include::{snippets}/relationship-delete/path-parameters.adoc[]
include::{snippets}/relationship-delete/request-headers.adoc[]
include::{snippets}/relationship-delete/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/relationship-delete/response-headers.adoc[]
include::{snippets}/relationship-delete/response-body.adoc[]
include::{snippets}/relationship-delete/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/relationship-delete/response-fields.adoc[]

---

=== Constraint

==== Constraint 생성

제약조건을 생성합니다.

[source]
----
POST /api/v1.0/constraints
----

[discrete]
==== 요청

include::{snippets}/constraint-create/http-request.adoc[]
include::{snippets}/constraint-create/request-headers.adoc[]
include::{snippets}/constraint-create/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/constraint-create/response-headers.adoc[]
include::{snippets}/constraint-create/response-body.adoc[]
include::{snippets}/constraint-create/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/constraint-create/response-fields.adoc[]

---

==== Constraint 조회

제약조건을 조회합니다.

[source]
----
GET /api/v1.0/constraints/{constraintId}
----

[discrete]
==== 요청

include::{snippets}/constraint-get/http-request.adoc[]
include::{snippets}/constraint-get/path-parameters.adoc[]
include::{snippets}/constraint-get/request-headers.adoc[]
include::{snippets}/constraint-get/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/constraint-get/response-headers.adoc[]
include::{snippets}/constraint-get/response-body.adoc[]
include::{snippets}/constraint-get/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/constraint-get/response-fields.adoc[]

---

==== Constraint 이름 변경

제약조건의 이름을 변경합니다.

[source]
----
PUT /api/v1.0/constraints/{constraintId}/name
----

[discrete]
==== 요청

include::{snippets}/constraint-update-name/http-request.adoc[]
include::{snippets}/constraint-update-name/path-parameters.adoc[]
include::{snippets}/constraint-update-name/request-headers.adoc[]
include::{snippets}/constraint-update-name/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/constraint-update-name/response-headers.adoc[]
include::{snippets}/constraint-update-name/response-body.adoc[]
include::{snippets}/constraint-update-name/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/constraint-update-name/response-fields.adoc[]

---

==== Constraint에 컬럼 추가

제약조건에 컬럼을 추가합니다.

[source]
----
POST /api/v1.0/constraints/{constraintId}/columns
----

[discrete]
==== 요청

include::{snippets}/constraint-add-column/http-request.adoc[]
include::{snippets}/constraint-add-column/path-parameters.adoc[]
include::{snippets}/constraint-add-column/request-headers.adoc[]
include::{snippets}/constraint-add-column/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/constraint-add-column/response-headers.adoc[]
include::{snippets}/constraint-add-column/response-body.adoc[]
include::{snippets}/constraint-add-column/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/constraint-add-column/response-fields.adoc[]

---

==== Constraint에서 컬럼 제거

제약조건에서 컬럼을 제거합니다.

[source]
----
DELETE /api/v1.0/constraints/{constraintId}/columns/{constraintColumnId}
----

[discrete]
==== 요청

include::{snippets}/constraint-remove-column/http-request.adoc[]
include::{snippets}/constraint-remove-column/path-parameters.adoc[]
include::{snippets}/constraint-remove-column/request-headers.adoc[]
include::{snippets}/constraint-remove-column/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/constraint-remove-column/response-headers.adoc[]
include::{snippets}/constraint-remove-column/response-body.adoc[]
include::{snippets}/constraint-remove-column/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/constraint-remove-column/response-fields.adoc[]

---

==== Constraint 삭제

제약조건을 삭제합니다.

[source]
----
DELETE /api/v1.0/constraints/{constraintId}
----

[discrete]
==== 요청

include::{snippets}/constraint-delete/http-request.adoc[]
include::{snippets}/constraint-delete/path-parameters.adoc[]
include::{snippets}/constraint-delete/request-headers.adoc[]
include::{snippets}/constraint-delete/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/constraint-delete/response-headers.adoc[]
include::{snippets}/constraint-delete/response-body.adoc[]
include::{snippets}/constraint-delete/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/constraint-delete/response-fields.adoc[]

---

=== Index

==== Index 생성

인덱스를 생성합니다.

[source]
----
POST /api/v1.0/indexes
----

[discrete]
==== 요청

include::{snippets}/index-create/http-request.adoc[]
include::{snippets}/index-create/request-headers.adoc[]
include::{snippets}/index-create/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/index-create/response-headers.adoc[]
include::{snippets}/index-create/response-body.adoc[]
include::{snippets}/index-create/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/index-create/response-fields.adoc[]

---

==== Index 조회

인덱스를 조회합니다.

[source]
----
GET /api/v1.0/indexes/{indexId}
----

[discrete]
==== 요청

include::{snippets}/index-get/http-request.adoc[]
include::{snippets}/index-get/path-parameters.adoc[]
include::{snippets}/index-get/request-headers.adoc[]
include::{snippets}/index-get/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/index-get/response-headers.adoc[]
include::{snippets}/index-get/response-body.adoc[]
include::{snippets}/index-get/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/index-get/response-fields.adoc[]

---

==== Index 이름 변경

인덱스의 이름을 변경합니다.

[source]
----
PUT /api/v1.0/indexes/{indexId}/name
----

[discrete]
==== 요청

include::{snippets}/index-update-name/http-request.adoc[]
include::{snippets}/index-update-name/path-parameters.adoc[]
include::{snippets}/index-update-name/request-headers.adoc[]
include::{snippets}/index-update-name/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/index-update-name/response-headers.adoc[]
include::{snippets}/index-update-name/response-body.adoc[]
include::{snippets}/index-update-name/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/index-update-name/response-fields.adoc[]

---

==== Index에 컬럼 추가

인덱스에 컬럼을 추가합니다.

[source]
----
POST /api/v1.0/indexes/{indexId}/columns
----

[discrete]
==== 요청

include::{snippets}/index-add-column/http-request.adoc[]
include::{snippets}/index-add-column/path-parameters.adoc[]
include::{snippets}/index-add-column/request-headers.adoc[]
include::{snippets}/index-add-column/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/index-add-column/response-headers.adoc[]
include::{snippets}/index-add-column/response-body.adoc[]
include::{snippets}/index-add-column/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/index-add-column/response-fields.adoc[]

---

==== Index에서 컬럼 제거

인덱스에서 컬럼을 제거합니다.

[source]
----
DELETE /api/v1.0/indexes/{indexId}/columns/{indexColumnId}
----

[discrete]
==== 요청

include::{snippets}/index-remove-column/http-request.adoc[]
include::{snippets}/index-remove-column/path-parameters.adoc[]
include::{snippets}/index-remove-column/request-headers.adoc[]
include::{snippets}/index-remove-column/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/index-remove-column/response-headers.adoc[]
include::{snippets}/index-remove-column/response-body.adoc[]
include::{snippets}/index-remove-column/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/index-remove-column/response-fields.adoc[]

---

==== Index 삭제

인덱스를 삭제합니다.

[source]
----
DELETE /api/v1.0/indexes/{indexId}
----

[discrete]
==== 요청

include::{snippets}/index-delete/http-request.adoc[]
include::{snippets}/index-delete/path-parameters.adoc[]
include::{snippets}/index-delete/request-headers.adoc[]
include::{snippets}/index-delete/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/index-delete/response-headers.adoc[]
include::{snippets}/index-delete/response-body.adoc[]
include::{snippets}/index-delete/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/index-delete/response-fields.adoc[]

---

=== Memo

==== Memo 생성

메모를 생성합니다.

[source]
----
POST /api/v1.0/memos
----

[discrete]
==== 요청

include::{snippets}/memo-create/http-request.adoc[]
include::{snippets}/memo-create/request-headers.adoc[]
include::{snippets}/memo-create/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/memo-create/response-headers.adoc[]
include::{snippets}/memo-create/response-body.adoc[]
include::{snippets}/memo-create/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/memo-create/response-fields.adoc[]

---

==== Memo 조회

메모를 조회합니다.

[source]
----
GET /api/v1.0/memos/{memoId}
----

[discrete]
==== 요청

include::{snippets}/memo-get/http-request.adoc[]
include::{snippets}/memo-get/request-headers.adoc[]
include::{snippets}/memo-get/path-parameters.adoc[]
include::{snippets}/memo-get/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/memo-get/response-headers.adoc[]
include::{snippets}/memo-get/response-body.adoc[]
include::{snippets}/memo-get/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/memo-get/response-fields.adoc[]

---

==== 스키마별 Memo 목록 조회

특정 스키마에 속한 메모 목록을 조회합니다.

[source]
----
GET /api/v1.0/schemas/{schemaId}/memos
----

[discrete]
==== 요청

include::{snippets}/memo-list-by-schema/http-request.adoc[]
include::{snippets}/memo-list-by-schema/request-headers.adoc[]
include::{snippets}/memo-list-by-schema/path-parameters.adoc[]
include::{snippets}/memo-list-by-schema/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/memo-list-by-schema/response-headers.adoc[]
include::{snippets}/memo-list-by-schema/response-body.adoc[]
include::{snippets}/memo-list-by-schema/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/memo-list-by-schema/response-fields.adoc[]

---

==== Memo 수정

메모를 수정합니다.

[source]
----
PUT /api/v1.0/memos/{memoId}
----

[discrete]
==== 요청

include::{snippets}/memo-update/http-request.adoc[]
include::{snippets}/memo-update/request-headers.adoc[]
include::{snippets}/memo-update/path-parameters.adoc[]
include::{snippets}/memo-update/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/memo-update/response-headers.adoc[]
include::{snippets}/memo-update/response-body.adoc[]
include::{snippets}/memo-update/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/memo-update/response-fields.adoc[]

---

==== Memo 삭제

메모를 삭제합니다.

[source]
----
DELETE /api/v1.0/memos/{memoId}
----

[discrete]
==== 요청

include::{snippets}/memo-delete/http-request.adoc[]
include::{snippets}/memo-delete/request-headers.adoc[]
include::{snippets}/memo-delete/path-parameters.adoc[]
include::{snippets}/memo-delete/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/memo-delete/response-headers.adoc[]
include::{snippets}/memo-delete/response-body.adoc[]
include::{snippets}/memo-delete/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/memo-delete/response-fields.adoc[]

---

==== Memo 댓글 생성

메모에 댓글을 생성합니다.

[source]
----
POST /api/v1.0/memos/{memoId}/comments
----

[discrete]
==== 요청

include::{snippets}/memo-comment-create/http-request.adoc[]
include::{snippets}/memo-comment-create/request-headers.adoc[]
include::{snippets}/memo-comment-create/path-parameters.adoc[]
include::{snippets}/memo-comment-create/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/memo-comment-create/response-headers.adoc[]
include::{snippets}/memo-comment-create/response-body.adoc[]
include::{snippets}/memo-comment-create/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/memo-comment-create/response-fields.adoc[]

---

==== Memo 댓글 목록 조회

메모의 댓글 목록을 조회합니다.

[source]
----
GET /api/v1.0/memos/{memoId}/comments
----

[discrete]
==== 요청

include::{snippets}/memo-comment-list/http-request.adoc[]
include::{snippets}/memo-comment-list/request-headers.adoc[]
include::{snippets}/memo-comment-list/path-parameters.adoc[]
include::{snippets}/memo-comment-list/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/memo-comment-list/response-headers.adoc[]
include::{snippets}/memo-comment-list/response-body.adoc[]
include::{snippets}/memo-comment-list/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/memo-comment-list/response-fields.adoc[]

---

==== Memo 댓글 수정

메모의 댓글을 수정합니다.

[source]
----
PUT /api/v1.0/memos/{memoId}/comments/{commentId}
----

[discrete]
==== 요청

include::{snippets}/memo-comment-update/http-request.adoc[]
include::{snippets}/memo-comment-update/request-headers.adoc[]
include::{snippets}/memo-comment-update/path-parameters.adoc[]
include::{snippets}/memo-comment-update/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/memo-comment-update/response-headers.adoc[]
include::{snippets}/memo-comment-update/response-body.adoc[]
include::{snippets}/memo-comment-update/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/memo-comment-update/response-fields.adoc[]

---

==== Memo 댓글 삭제

메모의 댓글을 삭제합니다.

[source]
----
DELETE /api/v1.0/memos/{memoId}/comments/{commentId}
----

[discrete]
==== 요청

include::{snippets}/memo-comment-delete/http-request.adoc[]
include::{snippets}/memo-comment-delete/request-headers.adoc[]
include::{snippets}/memo-comment-delete/path-parameters.adoc[]
include::{snippets}/memo-comment-delete/curl-request.adoc[]

[discrete]
==== 응답

include::{snippets}/memo-comment-delete/response-headers.adoc[]
include::{snippets}/memo-comment-delete/response-body.adoc[]
include::{snippets}/memo-comment-delete/http-response.adoc[]

[discrete]
==== 응답 필드

include::{snippets}/memo-comment-delete/response-fields.adoc[]

---

== User API

=== 회원가입

사용자 계정을 생성하고 JWT 토큰을 발급합니다.

[source]
----
POST /public/api/v1.0/users/signup
----

[discrete]
==== 요청

include::{snippets}/user-signup/http-request.adoc[]
include::{snippets}/user-signup/request-fields.adoc[]

[discrete]
==== 응답

include::{snippets}/user-signup/http-response.adoc[]
include::{snippets}/user-signup/response-headers.adoc[]
include::{snippets}/user-signup/response-fields.adoc[]

---

=== 로그인

이메일과 비밀번호로 로그인하고 JWT 토큰을 발급합니다.

[source]
----
POST /public/api/v1.0/users/login
----

[discrete]
==== 요청

include::{snippets}/user-login/http-request.adoc[]
include::{snippets}/user-login/request-fields.adoc[]

[discrete]
==== 응답

include::{snippets}/user-login/http-response.adoc[]
include::{snippets}/user-login/response-headers.adoc[]
include::{snippets}/user-login/response-fields.adoc[]

---

=== 내 정보 조회

로그인된 사용자의 정보를 조회합니다. (인증 필요)

[source]
----
GET /public/api/v1.0/users
----

[discrete]
==== 요청

include::{snippets}/user-get-me/http-request.adoc[]
include::{snippets}/user-get-me/request-headers.adoc[]

[discrete]
==== 응답

include::{snippets}/user-get-me/http-response.adoc[]
include::{snippets}/user-get-me/response-headers.adoc[]
include::{snippets}/user-get-me/response-fields.adoc[]

---

=== 사용자 조회 (스펙 변경 예정)

사용자 ID로 사용자 정보를 조회합니다. (인증 필요). 요구 사항에 따른 변경 예정

[source]
----
GET /public/api/v1.0/users/{userId}
----

[discrete]
==== 요청

include::{snippets}/user-get/http-request.adoc[]
include::{snippets}/user-get/path-parameters.adoc[]
include::{snippets}/user-get/request-headers.adoc[]

[discrete]
==== 응답

include::{snippets}/user-get/http-response.adoc[]
include::{snippets}/user-get/response-headers.adoc[]
include::{snippets}/user-get/response-fields.adoc[]

---

=== 토큰 갱신

리프레시 토큰으로 새로운 액세스 토큰을 발급받습니다.

[source]
----
POST /public/api/v1.0/users/refresh
----

[discrete]
==== 요청

include::{snippets}/user-refresh/http-request.adoc[]
include::{snippets}/user-refresh/request-cookies.adoc[]

[discrete]
==== 응답

include::{snippets}/user-refresh/http-response.adoc[]
include::{snippets}/user-refresh/response-headers.adoc[]
include::{snippets}/user-refresh/response-fields.adoc[]

---

== 에러 응답

API 호출이 실패한 경우 다음과 같은 형식으로 에러 응답을 반환합니다.

[source,json]
----
{
  "success": false,
  "result": null,
  "error": {
    "code": "ERROR_CODE",
    "message": "Error description"
  }
}
----

**에러 코드**

[cols="1,2"]
|===
|에러 코드 |설명

|`VALIDATION_ERROR`
|입력 데이터 검증 실패

|`NOT_FOUND`
|요청한 리소스를 찾을 수 없음

|`INTERNAL_ERROR`
|서버 내부 오류
|===

